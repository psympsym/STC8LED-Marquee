C51 COMPILER V9.60.0.0   LEDCHANGE                                                         05/14/2023 17:39:57 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE LEDCHANGE
OBJECT MODULE PLACED IN .\Objects\LEDChange.obj
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE User\src\LEDChange.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Li
                    -stings\LEDChange.lst) OBJECT(.\Objects\LEDChange.obj)

line level    source

   1          /* ---------------------------------- 包含头文件 --------------------------------- */
   2          #include "..\inc\STC8Ax_REG.h"
   3          #include "..\inc\Definition.h"
   4          
   5          /* ---------------------------------- 扩展变量 ---------------------------------- */
   6          uint8 direction_flag = 1; // 方向标志
   7          
   8          /* ---------------------------------- 私有变量 ---------------------------------- */
   9          uint8 count = 0; // LED位选
  10          
  11          /* ----------------------------------- 函数 ---------------------------------- */
  12          
  13          /**
  14           * @brief LED跑马灯驱动程序
  15           * @param none
  16           * @note 
  17          */
  18          void LEDChange()
  19          {
  20   1          // 初始化LED
  21   1          // led_dr1 = 1;
  22   1          // led_dr2 = 1;
  23   1          // led_dr3 = 1;
  24   1          // led_dr4 = 1;
  25   1      
  26   1          if (direction_flag) // 选择方向
  27   1          {
  28   2              count++;
  29   2          }
  30   1          else
  31   1          {
  32   2              count--;
  33   2          }
  34   1      
  35   1          if (count > 4)
  36   1          {
  37   2              count = 1;
  38   2          }
  39   1          else if (count < 1)
  40   1          {
  41   2              count = 4;
  42   2          }
  43   1      
  44   1          switch (count) // LED位选
  45   1          {
  46   2          case 1:
  47   2              P0 = 0x7F;
  48   2              //led_dr1 = 0;
  49   2              break;
  50   2          case 2:
  51   2              P0 = 0xBF;
  52   2              //led_dr2 = 0;
  53   2              break;
  54   2          case 3:
C51 COMPILER V9.60.0.0   LEDCHANGE                                                         05/14/2023 17:39:57 PAGE 2   

  55   2              P0 = 0xDF;
  56   2              //led_dr3 = 0;
  57   2              break;
  58   2          case 4:
  59   2              P0 = 0xEF;
  60   2              //led_dr4 = 0;
  61   2              break;
  62   2          default:
  63   2              break;
  64   2          }
  65   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     75    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
